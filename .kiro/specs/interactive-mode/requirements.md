# Requirements Document: Interactive Mode

## Introduction

This specification extends the AI Debate System with an interactive mode that provides a user-friendly command-line interface for configuring and running debates. Instead of requiring command-line arguments, users can launch the application and be guided through an interactive setup process where they select AI providers, configure debate parameters, and enter topics through prompts.

## Glossary

- **Interactive Mode**: A command-line interface mode where the application prompts the user for input step-by-step
- **Provider Type**: The AI service provider (e.g., OpenAI, Anthropic, Ollama, local models)
- **Provider Selection**: The process of choosing which AI provider(s) to use for debate participants
- **Preparation Time**: The maximum time allocated for AI models to research and prepare arguments during the preparation phase
- **Configuration Parameter**: A setting that controls debate behavior (e.g., word limit, time limit, preparation time)
- **Interactive Prompt**: A question or menu presented to the user requesting input
- **Session Configuration**: The complete set of parameters chosen during an interactive session
- **Preparation Phase Output**: The thoughts and research materials generated by models during preparation

## Requirements

### Requirement 1

**User Story:** As a user, I want to start the application in interactive mode, so that I can configure debates through guided prompts instead of command-line arguments.

#### Acceptance Criteria

1. WHEN a user runs the application without arguments THEN the Debate System SHALL enter interactive mode
2. WHEN interactive mode starts THEN the Debate System SHALL display a welcome message and overview of the setup process
3. WHEN interactive mode starts THEN the Debate System SHALL guide the user through configuration steps in a logical sequence
4. WHEN the user completes all configuration steps THEN the Debate System SHALL display a summary of the selected configuration before starting the debate

### Requirement 2

**User Story:** As a user, I want to select AI provider types interactively, so that I can choose which services to use for each debate participant.

#### Acceptance Criteria

1. WHEN the provider selection step begins THEN the Debate System SHALL display a list of available provider types
2. WHEN displaying provider types THEN the Debate System SHALL indicate which providers are currently configured and available
3. WHEN a user selects a provider type THEN the Debate System SHALL validate that the provider is properly configured with necessary credentials
4. WHEN a provider is not configured THEN the Debate System SHALL display instructions for configuring that provider
5. WHEN a user selects providers THEN the Debate System SHALL allow selecting the same provider for both participants or different providers

### Requirement 3

**User Story:** As a user, I want to select specific models from each provider, so that I can choose which AI models will debate.

#### Acceptance Criteria

1. WHEN a provider type is selected THEN the Debate System SHALL display available models for that provider
2. WHEN displaying available models THEN the Debate System SHALL show model names and brief descriptions
3. WHEN displaying model options THEN the Debate System SHALL include a "random" option that selects a random model from available models
4. WHEN a user selects "random" THEN the Debate System SHALL dynamically query the provider for available models and randomly select one
5. WHEN a user selects a specific model THEN the Debate System SHALL assign that model to either the affirmative or negative position
6. WHEN both models are selected THEN the Debate System SHALL display which model is assigned to which position

### Requirement 4

**User Story:** As a user, I want to enter a debate topic interactively, so that I can specify what the AI models should debate about.

#### Acceptance Criteria

1. WHEN the topic input step begins THEN the Debate System SHALL prompt the user to enter a debate topic
2. WHEN a user enters a topic THEN the Debate System SHALL validate that the topic is non-empty and contains meaningful content
3. WHEN a topic is invalid THEN the Debate System SHALL display an error message and re-prompt for a valid topic
4. WHEN a valid topic is entered THEN the Debate System SHALL display the topic back to the user for confirmation

### Requirement 5

**User Story:** As a user, I want to configure preparation time as a parameter, so that I can control how long AI models spend researching before the debate.

#### Acceptance Criteria

1. WHEN the configuration step begins THEN the Debate System SHALL prompt the user to specify preparation time in seconds
2. WHEN a user enters preparation time THEN the Debate System SHALL validate that the value is a positive number
3. WHEN preparation time is invalid THEN the Debate System SHALL display an error and suggest a reasonable range
4. WHEN no preparation time is specified THEN the Debate System SHALL use a default value from the global configuration
5. WHEN preparation time is configured THEN the Debate System SHALL enforce this time limit during the preparation phase

### Requirement 6

**User Story:** As a user, I want to see preparation phase output streamed in real-time, so that I can observe what the AI models are thinking and researching as they generate content.

#### Acceptance Criteria

1. WHEN the preparation phase begins THEN the Debate System SHALL display a header indicating the preparation phase has started
2. WHEN a model generates preparation content THEN the Debate System SHALL stream the content token-by-token or chunk-by-chunk as it is generated
3. WHEN streaming content THEN the Debate System SHALL display each token or chunk immediately without waiting for complete response
4. WHEN displaying preparation output THEN the Debate System SHALL clearly indicate which model (affirmative or negative) is generating content
5. WHEN both models complete preparation THEN the Debate System SHALL display a summary before proceeding to opening statements
6. WHEN preparation time limit is reached THEN the Debate System SHALL stop preparation and proceed to the next phase

### Requirement 7

**User Story:** As a user, I want debate parameters to be read from the global configuration file, so that I don't have to configure them every time I start a debate.

#### Acceptance Criteria

1. WHEN interactive mode starts THEN the Debate System SHALL load all debate parameters from the global configuration file
2. WHEN debate parameters are loaded THEN the Debate System SHALL use values for word limit, time limit, preparation time, cross-examination questions, and other settings
3. WHEN a parameter is missing from the global configuration THEN the Debate System SHALL use a hardcoded default value
4. WHEN the user wants to change debate parameters THEN the Debate System SHALL require the user to edit the global configuration file directly

### Requirement 8

**User Story:** As a user, I want clear visual feedback during interactive setup, so that I understand what information is needed and what has been configured.

#### Acceptance Criteria

1. WHEN displaying prompts THEN the Debate System SHALL use clear labels and descriptions for each configuration option
2. WHEN a configuration value is set THEN the Debate System SHALL display confirmation of the selected value
3. WHEN displaying menus THEN the Debate System SHALL number options and indicate how to make selections
4. WHEN errors occur THEN the Debate System SHALL display error messages in a visually distinct format
5. WHEN configuration is complete THEN the Debate System SHALL display a formatted summary of all settings

### Requirement 9

**User Story:** As a user, I want preparation time to be stored in the global configuration file, so that my preferred preparation time is used by default.

#### Acceptance Criteria

1. WHEN the global configuration file is loaded THEN the Debate System SHALL read the preparation time parameter
2. WHEN no preparation time is specified in the global configuration THEN the Debate System SHALL use a hardcoded default value
3. WHEN the user wants to change preparation time THEN the Debate System SHALL require editing the global configuration file directly
4. WHEN the global configuration file is updated THEN the Debate System SHALL use the new preparation time value in subsequent debates

### Requirement 10

**User Story:** As a user, I want to exit interactive mode at any point, so that I can cancel setup if needed.

#### Acceptance Criteria

1. WHEN any interactive prompt is displayed THEN the Debate System SHALL provide an option to exit or cancel
2. WHEN a user chooses to exit THEN the Debate System SHALL confirm the exit action
3. WHEN exit is confirmed THEN the Debate System SHALL terminate gracefully without starting a debate
4. WHEN exit occurs THEN the Debate System SHALL not save partial configuration unless explicitly requested

### Requirement 11

**User Story:** As a user, I want helpful defaults and suggestions during interactive setup, so that I can make informed choices even if I'm unfamiliar with the options.

#### Acceptance Criteria

1. WHEN displaying provider options THEN the Debate System SHALL indicate which providers are currently configured and available
2. WHEN displaying model options THEN the Debate System SHALL show model names with brief descriptions
3. WHEN prompting for topic THEN the Debate System SHALL provide examples of well-formed debate topics
4. WHEN displaying the configuration summary THEN the Debate System SHALL show all loaded values from the global configuration file
